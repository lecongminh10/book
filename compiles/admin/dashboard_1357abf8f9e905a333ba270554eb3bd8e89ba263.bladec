<?php $_shouldextend[1]=1; ?>

<?php $this->startSection('title', 'Trang chá»§ - Dashboard'); ?>

<?php $this->startSection('content'); ?>
<style>
 .dashboard-overview {
 display: grid;
 grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
 gap: 20px;
 margin-bottom: 30px;
 }
 #content{
 padding: 15px;
 }
 
 .overview-card {
 background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
 color: white;
 padding: 20px;
 border-radius: 10px;
 text-align: center;
 box-shadow: 0 4px 6px rgba(0,0,0,0.1);
 transition: transform 0.3s ease;
 }
 
 .overview-card:hover {
 transform: translateY(-5px);
 }
 
 .overview-card h3 {
 margin: 0;
 font-size: 2.5em;
 font-weight: bold;
 }
 
 .overview-card p {
 margin: 10px 0 0 0;
 font-size: 1.1em;
 opacity: 0.9;
 }
 
 .stats-grid {
 display: grid;
 grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
 gap: 20px;
 margin-bottom: 30px;
 }
 
 .stats-box {
 border: 1px solid #ddd;
 border-radius: 8px;
 padding: 20px;
 background: white;
 box-shadow: 0 2px 4px rgba(0,0,0,0.1);
 }
 
 .stats-box h2 {
 margin-top: 0;
 color: #333;
 border-bottom: 2px solid #667eea;
 padding-bottom: 10px;
 }
 
 table {
 width: 100%;
 border-collapse: collapse;
 margin-top: 15px;
 }
 
 th, td {
 border: 1px solid #ddd;
 padding: 8px;
 text-align: left;
 }
 
 th {
 background-color: #f8f9fa;
 font-weight: bold;
 }
 
 tr:nth-child(even) {
 background-color: #f8f9fa;
 }
 
 tr:hover {
 background-color: #e9ecef;
 }
 
 .status-pending { color: #ffc107; font-weight: bold; }
 .status-approved { color: #28a745; font-weight: bold; }
 .status-rejected { color: #dc3545; font-weight: bold; }
 .status-returned { color: #6c757d; font-weight: bold; }
 
 .recent-items {
 max-height: 300px;
 overflow-y: auto;
 }
 
 .rating-stars {
 color: #ffc107;
 }
 
 .empty-data {
 text-align: center;
 color: #6c757d;
 font-style: italic;
 }
</style>

<!-- Tá»•ng quan -->
<div class="dashboard-overview">
 <div class="overview-card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
 <h3><?php echo \htmlentities($totalBooks??'', ENT_QUOTES, 'UTF-8', false); ?></h3>
 <p>Tá»•ng sá»‘ sÃ¡ch</p>
 </div>
 <div class="overview-card" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
 <h3><?php echo \htmlentities($totalUsers??'', ENT_QUOTES, 'UTF-8', false); ?></h3>
 <p>NgÆ°á»i dÃ¹ng</p>
 </div>
 <div class="overview-card" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
 <h3><?php echo \htmlentities($totalBorrowings??'', ENT_QUOTES, 'UTF-8', false); ?></h3>
 <p>LÆ°á»£t mÆ°á»£n sÃ¡ch</p>
 </div>
 <div class="overview-card" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
 <h3><?php echo \htmlentities($totalCategories??'', ENT_QUOTES, 'UTF-8', false); ?></h3>
 <p>Danh má»¥c sÃ¡ch</p>
 </div>
 <div class="overview-card" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
 <h3><?php echo \htmlentities($totalPosts??'', ENT_QUOTES, 'UTF-8', false); ?></h3>
 <p>BÃ i viáº¿t</p>
 </div>
 <div class="overview-card" style="background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); color: #333;">
 <h3><?php echo \htmlentities($totalShelves??'', ENT_QUOTES, 'UTF-8', false); ?></h3>
 <p>Ká»‡ sÃ¡ch</p>
 </div>
</div>

<!-- Thá»‘ng kÃª chÃ­nh -->
<div class="stats-grid">
 <!-- SÃ¡ch theo danh má»¥c -->
 <div class="stats-box">
 <h2>ğŸ“š SÃ¡ch theo danh má»¥c</h2>
 <table>
 <tr>
 <th>Danh má»¥c</th>
 <th>Sá»‘ lÆ°á»£ng sÃ¡ch</th>
 </tr>
 <?php $__empty_1 = true; foreach($booksByCategory as $item): $__empty_1 = false; ?>
 <tr>
 <td><?php echo \htmlentities($item['category_name'] ?? 'KhÃ´ng cÃ³ danh má»¥c'??'', ENT_QUOTES, 'UTF-8', false); ?></td>
 <td><strong><?php echo \htmlentities($item['book_count']??'', ENT_QUOTES, 'UTF-8', false); ?></strong></td>
 </tr>
 <?php endforeach; if ($__empty_1): ?>
 <tr>
 <td colspan="2" class="empty-data">KhÃ´ng cÃ³ dá»¯ liá»‡u</td>
 </tr>
 <?php endif; ?>
 </table>
 </div>

 <!-- Tráº¡ng thÃ¡i mÆ°á»£n sÃ¡ch -->
 <div class="stats-box">
 <h2>ğŸ“‹ Tráº¡ng thÃ¡i mÆ°á»£n sÃ¡ch</h2>
 <table>
 <tr>
 <th>Tráº¡ng thÃ¡i</th>
 <th>Sá»‘ lÆ°á»£ng</th>
 </tr>
 <?php $__empty_1 = true; foreach($borrowingsByStatus as $item): $__empty_1 = false; ?>
 <tr>
 <td>
 <span class="status-<?php echo \htmlentities($item['status']??'', ENT_QUOTES, 'UTF-8', false); ?>">
 <?php switch ($item['status']) {
 case ('pending'): ?> Chá» duyá»‡t <?php break; ?>
 <?php case ('approved'): ?> ÄÃ£ duyá»‡t <?php break; ?>
 <?php case ('rejected'): ?> Tá»« chá»‘i <?php break; ?>
 <?php case ('returned'): ?> ÄÃ£ tráº£ <?php break; ?>
 <?php default: ?> <?php echo \htmlentities($item['status']??'', ENT_QUOTES, 'UTF-8', false); ?>

 <?php } // end switch ?>
 </span>
 </td>
 <td><strong><?php echo \htmlentities($item['borrowing_count']??'', ENT_QUOTES, 'UTF-8', false); ?></strong></td>
 </tr>
 <?php endforeach; if ($__empty_1): ?>
 <tr>
 <td colspan="2" class="empty-data">KhÃ´ng cÃ³ dá»¯ liá»‡u</td>
 </tr>
 <?php endif; ?>
 </table>
 </div>

 <!-- NgÆ°á»i dÃ¹ng theo vai trÃ² -->
 <div class="stats-box">
 <h2>ğŸ‘¥ NgÆ°á»i dÃ¹ng theo vai trÃ²</h2>
 <table>
 <tr>
 <th>Vai trÃ²</th>
 <th>Sá»‘ lÆ°á»£ng</th>
 </tr>
 <?php $__empty_1 = true; foreach($usersByRole as $item): $__empty_1 = false; ?>
 <tr>
 <td>
 <?php switch ($item['role']) {
 case ('admin'): ?> Quáº£n trá»‹ viÃªn <?php break; ?>
 <?php case ('auth'): ?> Thá»§ thÆ° <?php break; ?>
 <?php case ('user'): ?> NgÆ°á»i dÃ¹ng <?php break; ?>
 <?php default: ?> <?php echo \htmlentities($item['role']??'', ENT_QUOTES, 'UTF-8', false); ?>

 <?php } // end switch ?>
 </td>
 <td><strong><?php echo \htmlentities($item['user_count']??'', ENT_QUOTES, 'UTF-8', false); ?></strong></td>
 </tr>
 <?php endforeach; if ($__empty_1): ?>
 <tr>
 <td colspan="2" class="empty-data">KhÃ´ng cÃ³ dá»¯ liá»‡u</td>
 </tr>
 <?php endif; ?>
 </table>
 </div>

 <!-- Ká»‡ sÃ¡ch cÃ³ sÃ¡ch -->
 <div class="stats-box">
 <h2>ğŸ  Ká»‡ sÃ¡ch cÃ³ sÃ¡ch</h2>
 <table>
 <tr>
 <th>TÃªn ká»‡</th>
 <th>Sá»‘ sÃ¡ch</th>
 </tr>
 <?php $__empty_1 = true; foreach($shelvesWithBooks as $item): $__empty_1 = false; ?>
 <tr>
 <td><?php echo \htmlentities($item['shelf_name']??'', ENT_QUOTES, 'UTF-8', false); ?></td>
 <td><strong><?php echo \htmlentities($item['book_count']??'', ENT_QUOTES, 'UTF-8', false); ?></strong></td>
 </tr>
 <?php endforeach; if ($__empty_1): ?>
 <tr>
 <td colspan="2" class="empty-data">KhÃ´ng cÃ³ dá»¯ liá»‡u</td>
 </tr>
 <?php endif; ?>
 </table>
 </div>
</div>

<!-- Thá»‘ng kÃª chi tiáº¿t -->
<div class="stats-grid">
 <!-- SÃ¡ch Ä‘Æ°á»£c mÆ°á»£n nhiá»u nháº¥t -->
 <div class="stats-box">
 <h2>ğŸ† Top sÃ¡ch Ä‘Æ°á»£c mÆ°á»£n nhiá»u</h2>
 <div class="recent-items">
 <table>
 <tr>
 <th>TÃªn sÃ¡ch</th>
 <th>TÃ¡c giáº£</th>
 <th>LÆ°á»£t mÆ°á»£n</th>
 </tr>
 <?php $__empty_1 = true; foreach($mostBorrowedBooks as $item): $__empty_1 = false; ?>
 <tr>
 <td><?php echo \htmlentities($item['title']??'', ENT_QUOTES, 'UTF-8', false); ?></td>
 <td><?php echo \htmlentities($item['author']??'', ENT_QUOTES, 'UTF-8', false); ?></td>
 <td><strong><?php echo \htmlentities($item['borrow_count']??'', ENT_QUOTES, 'UTF-8', false); ?></strong></td>
 </tr>
 <?php endforeach; if ($__empty_1): ?>
 <tr>
 <td colspan="3" class="empty-data">ChÆ°a cÃ³ dá»¯ liá»‡u mÆ°á»£n sÃ¡ch</td>
 </tr>
 <?php endif; ?>
 </table>
 </div>
 </div>

 <!-- NgÆ°á»i dÃ¹ng mÆ°á»£n nhiá»u nháº¥t -->
 <div class="stats-box">
 <h2>â­ Top ngÆ°á»i dÃ¹ng tÃ­ch cá»±c</h2>
 <div class="recent-items">
 <table>
 <tr>
 <th>Há» tÃªn</th>
 <th>Username</th>
 <th>LÆ°á»£t mÆ°á»£n</th>
 </tr>
 <?php $__empty_1 = true; foreach($mostActiveBorrowers as $item): $__empty_1 = false; ?>
 <tr>
 <td><?php echo \htmlentities($item['full_name']??'', ENT_QUOTES, 'UTF-8', false); ?></td>
 <td><?php echo \htmlentities($item['username']??'', ENT_QUOTES, 'UTF-8', false); ?></td>
 <td><strong><?php echo \htmlentities($item['borrow_count']??'', ENT_QUOTES, 'UTF-8', false); ?></strong></td>
 </tr>
 <?php endforeach; if ($__empty_1): ?>
 <tr>
 <td colspan="3" class="empty-data">ChÆ°a cÃ³ dá»¯ liá»‡u mÆ°á»£n sÃ¡ch</td>
 </tr>
 <?php endif; ?>
 </table>
 </div>
 </div>

 <!-- SÃ¡ch má»›i nháº¥t -->
 <div class="stats-box">
 <h2>ğŸ“– SÃ¡ch má»›i nháº¥t</h2>
 <div class="recent-items">
 <table>
 <tr>
 <th>TÃªn sÃ¡ch</th>
 <th>TÃ¡c giáº£</th>
 <th>Danh má»¥c</th>
 <th>NgÃ y thÃªm</th>
 </tr>
 <?php $__empty_1 = true; foreach($latestBooks as $item): $__empty_1 = false; ?>
 <tr>
 <td><?php echo \htmlentities($item['title']??'', ENT_QUOTES, 'UTF-8', false); ?></td>
 <td><?php echo \htmlentities($item['author']??'', ENT_QUOTES, 'UTF-8', false); ?></td>
 <td><?php echo \htmlentities($item['category_name'] ?? 'N/A'??'', ENT_QUOTES, 'UTF-8', false); ?></td>
 <td><?php echo \htmlentities(date('d/m/Y', strtotime($item['created_at']))??'', ENT_QUOTES, 'UTF-8', false); ?></td>
 </tr>
 <?php endforeach; if ($__empty_1): ?>
 <tr>
 <td colspan="4" class="empty-data">KhÃ´ng cÃ³ dá»¯ liá»‡u</td>
 </tr>
 <?php endif; ?>
 </table>
 </div>
 </div>

 <!-- MÆ°á»£n sÃ¡ch gáº§n Ä‘Ã¢y -->
 <div class="stats-box">
 <h2>ğŸ•’ MÆ°á»£n sÃ¡ch gáº§n Ä‘Ã¢y</h2>
 <div class="recent-items">
 <table>
 <tr>
 <th>NgÆ°á»i mÆ°á»£n</th>
 <th>SÃ¡ch</th>
 <th>Tráº¡ng thÃ¡i</th>
 <th>NgÃ y mÆ°á»£n</th>
 </tr>
 <?php $__empty_1 = true; foreach($recentBorrowings as $item): $__empty_1 = false; ?>
 <tr>
 <td><?php echo \htmlentities($item['full_name']??'', ENT_QUOTES, 'UTF-8', false); ?></td>
 <td><?php echo \htmlentities($item['title']??'', ENT_QUOTES, 'UTF-8', false); ?></td>
 <td>
 <span class="status-<?php echo \htmlentities($item['status']??'', ENT_QUOTES, 'UTF-8', false); ?>">
 <?php switch ($item['status']) {
 case ('pending'): ?> Chá» duyá»‡t <?php break; ?>
 <?php case ('approved'): ?> ÄÃ£ duyá»‡t <?php break; ?>
 <?php case ('rejected'): ?> Tá»« chá»‘i <?php break; ?>
 <?php case ('returned'): ?> ÄÃ£ tráº£ <?php break; ?>
 <?php default: ?> <?php echo \htmlentities($item['status']??'', ENT_QUOTES, 'UTF-8', false); ?>

 <?php } // end switch ?>
 </span>
 </td>
 <td><?php echo \htmlentities(date('d/m/Y', strtotime($item['created_at']))??'', ENT_QUOTES, 'UTF-8', false); ?></td>
 </tr>
 <?php endforeach; if ($__empty_1): ?>
 <tr>
 <td colspan="4" class="empty-data">KhÃ´ng cÃ³ dá»¯ liá»‡u</td>
 </tr>
 <?php endif; ?>
 </table>
 </div>
 </div>
</div>

<!-- Thá»‘ng kÃª bá»• sung -->
<div class="stats-grid">
 <?php if(count($booksByRating) > 0): ?>
 <!-- SÃ¡ch theo Ä‘Ã¡nh giÃ¡ -->
 <div class="stats-box">
 <h2>â­ SÃ¡ch theo Ä‘Ã¡nh giÃ¡</h2>
 <table>
 <tr>
 <th>TiÃªu Ä‘á» sÃ¡ch</th>
 <th>ÄÃ¡nh giÃ¡ trung bÃ¬nh</th>
 <th>Sá»‘ lÆ°á»£t Ä‘Ã¡nh giÃ¡</th>
 </tr>
 <?php $__currentLoopData = $booksByRating; $this->addLoop($__currentLoopData);$this->getFirstLoop();
 foreach($__currentLoopData as $item): $loop = $this->incrementLoopIndices();  ?>
 <tr>
 <td><?php echo \htmlentities($item['title']??'', ENT_QUOTES, 'UTF-8', false); ?></td>
 <td>
 <span class="rating-stars">
 <?php for($i = 1; $i <= 5; $i++): ?>
 <?php if($i <= floor($item['avg_rating'])): ?>
 â˜…
 <?php elseif($i <= $item['avg_rating']): ?>
 â˜†
 <?php else: ?>
 â˜†
 <?php endif; ?>
 <?php endfor; ?>
 </span>
 (<?php echo \htmlentities(number_format($item['avg_rating'], 1)??'', ENT_QUOTES, 'UTF-8', false); ?>)
 </td>
 <td><strong><?php echo \htmlentities($item['rating_count']??'', ENT_QUOTES, 'UTF-8', false); ?></strong></td>
 </tr>
 <?php endforeach; $this->popLoop(); $loop = $this->getFirstLoop(); ?>
 </table>
 </div>
 <?php endif; ?>

 <!-- SÃ¡ch theo ká»‡ -->
 <?php if(count($booksByShelf) > 0): ?>
 <div class="stats-box">
 <h2>ğŸ“š SÃ¡ch theo ká»‡</h2>
 <table>
 <tr>
 <th>TÃªn ká»‡</th>
 <th>Sá»‘ lÆ°á»£ng sÃ¡ch</th>
 </tr>
 <?php $__currentLoopData = $booksByShelf; $this->addLoop($__currentLoopData);$this->getFirstLoop();
 foreach($__currentLoopData as $item): $loop = $this->incrementLoopIndices();  ?>
 <tr>
 <td><?php echo \htmlentities($item['shelf_name'] ?? 'ChÆ°a xáº¿p ká»‡'??'', ENT_QUOTES, 'UTF-8', false); ?></td>
 <td><strong><?php echo \htmlentities($item['book_count']??'', ENT_QUOTES, 'UTF-8', false); ?></strong></td>
 </tr>
 <?php endforeach; $this->popLoop(); $loop = $this->getFirstLoop(); ?>
 </table>
 </div>
 <?php endif; ?>

 <!-- SÃ¡ch theo nÄƒm xuáº¥t báº£n -->
 <?php if(count($booksByYear) > 0): ?>
 <div class="stats-box">
 <h2>ğŸ“… SÃ¡ch theo nÄƒm xuáº¥t báº£n</h2>
 <div class="recent-items">
 <table>
 <tr>
 <th>NÄƒm xuáº¥t báº£n</th>
 <th>Sá»‘ lÆ°á»£ng sÃ¡ch</th>
 </tr>
 <?php $__currentLoopData = $booksByYear; $this->addLoop($__currentLoopData);$this->getFirstLoop();
 foreach($__currentLoopData as $item): $loop = $this->incrementLoopIndices();  ?>
 <tr>
 <td><?php echo \htmlentities($item['publish_year']??'', ENT_QUOTES, 'UTF-8', false); ?></td>
 <td><strong><?php echo \htmlentities($item['book_count']??'', ENT_QUOTES, 'UTF-8', false); ?></strong></td>
 </tr>
 <?php endforeach; $this->popLoop(); $loop = $this->getFirstLoop(); ?>
 </table>
 </div>
 </div>
 <?php endif; ?>

 <!-- SÃ¡ch ná»•i báº­t -->
 <?php if(count($featuredBooks) > 0): ?>
 <div class="stats-box">
 <h2>ğŸŒŸ SÃ¡ch ná»•i báº­t</h2>
 <div class="recent-items">
 <table>
 <tr>
 <th>TÃªn sÃ¡ch</th>
 <th>TÃ¡c giáº£</th>
 <th>Danh má»¥c</th>
 <th>NgÃ y thÃªm</th>
 </tr>
 <?php $__currentLoopData = $featuredBooks; $this->addLoop($__currentLoopData);$this->getFirstLoop();
 foreach($__currentLoopData as $item): $loop = $this->incrementLoopIndices();  ?>
 <tr>
 <td><?php echo \htmlentities($item['title']??'', ENT_QUOTES, 'UTF-8', false); ?></td>
 <td><?php echo \htmlentities($item['author']??'', ENT_QUOTES, 'UTF-8', false); ?></td>
 <td><?php echo \htmlentities($item['category_name'] ?? 'N/A'??'', ENT_QUOTES, 'UTF-8', false); ?></td>
 <td><?php echo \htmlentities(date('d/m/Y', strtotime($item['created_at']))??'', ENT_QUOTES, 'UTF-8', false); ?></td>
 </tr>
 <?php endforeach; $this->popLoop(); $loop = $this->getFirstLoop(); ?>
 </table>
 </div>
 </div>
 <?php endif; ?>
</div>

<!-- Thá»‘ng kÃª ngÆ°á»i dÃ¹ng vÃ  bÃ i viáº¿t -->
<div class="stats-grid">
 <!-- NgÆ°á»i dÃ¹ng má»›i nháº¥t -->
 <?php if(count($latestUsers) > 0): ?>
 <div class="stats-box">
 <h2>ğŸ‘¤ NgÆ°á»i dÃ¹ng má»›i nháº¥t</h2>
 <div class="recent-items">
 <table>
 <tr>
 <th>Há» tÃªn</th>
 <th>Username</th>
 <th>Email</th>
 <th>Vai trÃ²</th>
 <th>NgÃ y Ä‘Äƒng kÃ½</th>
 </tr>
 <?php $__currentLoopData = $latestUsers; $this->addLoop($__currentLoopData);$this->getFirstLoop();
 foreach($__currentLoopData as $item): $loop = $this->incrementLoopIndices();  ?>
 <tr>
 <td><?php echo \htmlentities($item['full_name']??'', ENT_QUOTES, 'UTF-8', false); ?></td>
 <td><?php echo \htmlentities($item['username']??'', ENT_QUOTES, 'UTF-8', false); ?></td>
 <td><?php echo \htmlentities($item['email']??'', ENT_QUOTES, 'UTF-8', false); ?></td>
 <td>
 <?php switch ($item['role']) {
 case ('admin'): ?> Quáº£n trá»‹ viÃªn <?php break; ?>
 <?php case ('auth'): ?> Thá»§ thÆ° <?php break; ?>
 <?php case ('user'): ?> NgÆ°á»i dÃ¹ng <?php break; ?>
 <?php default: ?> <?php echo \htmlentities($item['role']??'', ENT_QUOTES, 'UTF-8', false); ?>

 <?php } // end switch ?>
 </td>
 <td><?php echo \htmlentities(date('d/m/Y', strtotime($item['created_at']))??'', ENT_QUOTES, 'UTF-8', false); ?></td>
 </tr>
 <?php endforeach; $this->popLoop(); $loop = $this->getFirstLoop(); ?>
 </table>
 </div>
 </div>
 <?php endif; ?>

 <!-- BÃ i viáº¿t theo tráº¡ng thÃ¡i -->
 <?php if(count($postsByStatus) > 0): ?>
 <div class="stats-box">
 <h2>ğŸ“„ BÃ i viáº¿t theo tráº¡ng thÃ¡i</h2>
 <table>
 <tr>
 <th>Tráº¡ng thÃ¡i</th>
 <th>Sá»‘ lÆ°á»£ng</th>
 </tr>
 <?php $__currentLoopData = $postsByStatus; $this->addLoop($__currentLoopData);$this->getFirstLoop();
 foreach($__currentLoopData as $item): $loop = $this->incrementLoopIndices();  ?>
 <tr>
 <td>
 <?php switch ($item['status']) {
 case ('published'): ?> ÄÃ£ xuáº¥t báº£n <?php break; ?>
 <?php case ('draft'): ?> Báº£n nhÃ¡p <?php break; ?>
 <?php case ('pending'): ?> Chá» duyá»‡t <?php break; ?>
 <?php default: ?> <?php echo \htmlentities($item['status']??'', ENT_QUOTES, 'UTF-8', false); ?>

 <?php } // end switch ?>
 </td>
 <td><strong><?php echo \htmlentities($item['post_count']??'', ENT_QUOTES, 'UTF-8', false); ?></strong></td>
 </tr>
 <?php endforeach; $this->popLoop(); $loop = $this->getFirstLoop(); ?>
 </table>
 </div>
 <?php endif; ?>

 <!-- BÃ i viáº¿t má»›i nháº¥t -->
 <?php if(count($latestPosts) > 0): ?>
 <div class="stats-box">
 <h2>ğŸ“° BÃ i viáº¿t má»›i nháº¥t</h2>
 <div class="recent-items">
 <table>
 <tr>
 <th>TiÃªu Ä‘á»</th>
 <th>TÃ¡c giáº£</th>
 <th>Danh má»¥c</th>
 <th>NgÃ y táº¡o</th>
 </tr>
 <?php $__currentLoopData = $latestPosts; $this->addLoop($__currentLoopData);$this->getFirstLoop();
 foreach($__currentLoopData as $item): $loop = $this->incrementLoopIndices();  ?>
 <tr>
 <td><?php echo \htmlentities($item['title']??'', ENT_QUOTES, 'UTF-8', false); ?></td>
 <td><?php echo \htmlentities($item['author_name'] ?? 'N/A'??'', ENT_QUOTES, 'UTF-8', false); ?></td>
 <td><?php echo \htmlentities($item['category_name'] ?? 'N/A'??'', ENT_QUOTES, 'UTF-8', false); ?></td>
 <td><?php echo \htmlentities(date('d/m/Y', strtotime($item['created_at']))??'', ENT_QUOTES, 'UTF-8', false); ?></td>
 </tr>
 <?php endforeach; $this->popLoop(); $loop = $this->getFirstLoop(); ?>
 </table>
 </div>
 </div>
 <?php endif; ?>
</div>

<?php $this->stopSection(); ?>
<?php if (isset($_shouldextend[1])) { echo $this->runChild('layouts.master'); } ?>